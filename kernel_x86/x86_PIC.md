# PIC 可编程中断控制器
## x86架构的中断系统
x86架构系统中通常有两片PIC，8259A是最常用的中断控制器，每一片8259A有8个IRQ信号，两片控制器级联可以提供15（主片7个，从片8个）个硬件中断信号。

APIC（高级可编程中断控制器）是现代多处理机硬件系统中的中断芯片，可以代替PIC的功能，也可以模拟PIC工作在传统模式下。在现代x86架构下除了使用APIC的结构外的系统通常都采用8259A级联的中断系统。

## 8259A
表1：8259A级联中断系统地址

||控制口|数据口|
|--|-:-|
|主片|0x20|0x21|
|从片|0xA0|0xA1|
> 奇地址：掩码寄存器 & 数据寄存器<br/>
> 偶地址：控制口 & 状态寄存器

## 8259A初始化过程
1. 发送ICW1 设定中断触发方式
1. 发送ICW2 设置中断类型号（中断号的高5位）
1. 发送ICW3 设置主片和从片的级联方式
1. 发送ICW4 设置系统模式等额外信息

## ICW[1-4]格式
待更新


## 中断相关指令
```nasm
lidt ;装入中断描述符表寄存器
cli  ;清除中断标志（IF）
sti  ;设置中断标志（IF）
iret ;中断返回

```
